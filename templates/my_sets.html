<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>My Requirement Sets</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

    <nav style="background-color: #f0f0f0; padding: 10px;">
        <a href="/admin" style="margin-right: 15px;">Dashboard</a>
        <a href="/my_submitters" style="margin-right: 15px;">My Submitters</a>
        <a href="/documents_library" style="margin-right: 15px;">Documents Library</a>
        <a href="/my_sets" style="margin-right: 15px;">Requirement Sets</a>
        <a href="/projects" style="margin-right: 15px;">Projects</a>
        <a href="/logout">Log Out</a>
    </nav>


    <h1>My Requirement Sets</h1>

    <!-- Form to create a new set -->
    <form method="post">
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
        <input type="text" name="new_set_name" placeholder="New set name" required>
        <button type="submit">Create Set</button>
    </form>

    <hr>

    <!-- Display existing sets -->
    {% for set in doc_sets %}
        <div style="margin-bottom: 20px;">
            <h3>{{ set.name }}</h3>

            <p><strong>Required Documents:</strong></p>
            <ul>
                {% for doc in docs_by_set[set.id] %}
                    <li>{{ doc.doc_type }}</li>
                {% else %}
                    <li><em>No documents assigned yet</em></li>
                {% endfor %}
            </ul>

            <!-- Link to edit the set -->
            <a href="{{ url_for('edit_set', set_id=set.id) }}">
                <button type="button">Edit</button>
            </a>
        </div>
        <hr>
    {% endfor %}

</body>
</html>